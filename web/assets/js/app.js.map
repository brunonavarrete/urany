{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["/* --------------------------\n------ Chat ------\n-------------------------- */\n\tvar invitationSent = false;\n\t$('[data-chat]').click(function(e){\n\t\te.preventDefault();\n\t\tvar status = jivo_api.chatMode();\n\t\tif( status === 'online' && !invitationSent ){\n\t\t\tvar chat = $(this).data('chat');\n\t\t\tvar marca = $(this).data('marca');\n\t\t\tif( chat === 'nombre' ){\n\t\t\t\tvar nombre = $('#contacta').val();\n\t\t\t\tvar marca = $(this).data('marca');\n\t\t\t\tif( (nombre && nombre != '') && (marca && marca != '') ){\n\t\t\t\t\tjivo_api.setCustomData([\n\t\t\t\t\t    {\n\t\t\t\t\t        \"title\": \"Nombre\",\n\t\t\t\t\t        \"content\": nombre,\n\t\t\t\t\t    },\n\t\t\t\t\t    {\n\t\t\t\t\t        \"title\": \"Marca\",\n\t\t\t\t\t        \"content\": marca\n\t\t\t\t\t    }\n\t\t\t\t\t]);\n\t\t\t\t\tvar msg = 'Hola '+ nombre +', veo que estás interesado en nuestros productos '+ marca +', ¿cómo puedo ayudarte?';\n\t\t\t\t} else if( nombre && nombre != '' ) {\n\t\t\t\t\tjivo_api.setCustomData([\n\t\t\t\t\t    {\n\t\t\t\t\t        \"title\": \"Nombre\",\n\t\t\t\t\t        \"content\": nombre,\n\t\t\t\t\t    }\n\t\t\t\t\t]);\n\t\t\t\t\tvar msg = 'Hola '+ nombre +', ¿cómo puedo ayudarte?';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar msg = 'Bienvenido a Urany, ¿cómo puedo ayudarle?';\n\t\t\t}\n\t\t\tjivo_api.showProactiveInvitation( msg );\n\t\t\tinvitationSent = true;\n\t\t} else {\n\t\t\tjivo_api.open();\n\t\t}\n\t\tga('send', {'hitType': 'pageview', 'page': '/clic-cta', 'title': 'Clic en CTA'});\n\t});\n\n/* --------------------------\n------ Form submission ------\n-------------------------- */\n\n\tfunction revealMessage(msg,form){\n\t\tform.find('.form-message').html(msg).addClass('open');\n        setTimeout(function() {\n        \tform.find('.form-message').html('').removeClass('open');\n        }, 5000);\n\t}\n\n\t$('.contact-form').submit(function(e) {\n\t\t// Prevent the form from actually submitting\n\t\te.preventDefault();\n\t\t\n\t\tvar form = $(this);\n\n\t\t// Get the post data\n\t\tvar data = $(this).serialize();\n\n\t\t// block multiple clicks\n\t\tform.find('input').attr('disabled',true);\n\n\t\t// Send it to the server\n\t\t$.post('/', data, function(response) {\n\t        if (response.success) {\n\t        \tga('send', {'hitType': 'pageview', 'page': '/formulario-enviado', 'title': 'Formulario enviado'});\n\t            revealMessage('Gracias por contactarnos, te contactaremos cuanto antes.',form);\n\t        } else {\n\t            revealMessage('Hubo un error, intenta de nuevo más tarde.',form);\n\t        }\n\t        form.find('input').attr('disabled',false);\n\t    });\n\t});\n\n/* --------------------------\n------ Mailchimp ------\n-------------------------- */\n\n\t$('form.newsletter').submit(function(e){\n\t\te.preventDefault();\n\t\t$form = $(this);\n\t\t$.ajax({\n\t        type: $form.attr('method'),\n\t        url: $form.attr('action'),\n\t        data: $form.serialize(),\n\t        cache       : false,\n\t        dataType    : 'json',\n\t        contentType: \"application/json; charset=utf-8\",\n\t        beforeSend: function(){\n\t        \t$form.find('[type=\"submit\"]').attr('disabled',true);\n\t        },\n\t        error       : function(err) { \n\t        \tconsole.log('err'+err);\n\t        \talert(\"Ocurrió un error, inténtalo más tarde.\"); \n\t        },\n\t        success     : function(data) {\n\t            if (data.result == \"success\") {\n\t                if( $form.is('.newsletter-subscribe') ){\n\t                \t$form.fadeOut(50);\n\t                \tsetTimeout(function(){\n\t                \t\t$('#download').addClass('success');\n\t                \t},65);\n\t                } else {\n\t                \t$('#modal-mailchimp').modal();\n\t                }\n\t            } else {\n\t            \t$form.find('.mailchimp-error').html(data.msg);\n\t            \tconsole.log( data.msg );\n\t            }\n\t            $form.find('[type=\"submit\"]').attr('disabled',false);\n\t        }\n    \t});\n    \tga('send', {'hitType': 'pageview', 'page': '/registro-mailchimp', 'title': 'Registro mailchimp'});\n\t});\n\n/* --------------------------\n--------- Headroom ----------\n-------------------------- */\n\tvar header = document.getElementById('main-header');\n\tvar headroom = new Headroom(header,{\n\t\tonTop : function() {\n\t\t\tif( $('#scroll').length ){\n\t\t\t\t$('#scroll').fadeIn(400);\n\t\t\t}\n\t\t},\n\t\tonNotTop : function() {\n\t\t\tif( $('#scroll').length ){\n\t\t\t\t$('#scroll').fadeOut(400);\n\t\t\t}\n\t\t},\n\t});\n\theadroom.init();\n\n/* -------------------------\n--------- Scroll -----------\n-------------------------- */\n\t$('#scroll').click(function(){\n\t\t$('html,body').animate({\n\t\t\tscrollTop: $('#top-home').offset().top\n\t\t},800);\n\t});\n\n/* --------------------------\n------ Nav (collapse) -------\n-------------------------- */\n\t$('.navbar-collapse').on('show.bs.collapse', function () {\n\t\t$('#main-header').addClass('showing');\n\t});\n\t$('.navbar-collapse').on('hidden.bs.collapse', function () {\n\t\t$('#main-header').removeClass('showing');\n\t});\n\n/* --------------------------\n------- Toggle grids --------\n-------------------------- */\n\t$('#nav-marca [data-target]').click(function(){\n\t\tvar show = $(this).data('target');\n\t\tif( $(this).is('.btn-outline-primary') ){\n\t\t\t// toggle\n\t\t\t\t$('[data-grid],[data-info]').hide();\n\t\t\t\t$('[data-grid=\"' + show + '\"],[data-info=\"' + show + '\"]').fadeIn(150);\n\t\t\t// toggle classes\n\t\t\t\t$('#nav-marca [data-target]').addClass('btn-outline-primary').removeClass('btnprimary');\n\t\t\t\t$(this).addClass('btn-primary').removeClass('btn-outline-primary');\n\t\t\t// update title\n\t\t\t\t//$('#category-title').text( title );\n\t\t}\n\t\tfitImages();\n\t});\n\n/* --------------------------\n------ Modal producto -------\n-------------------------- */\n\t$('[data-grid] [data-target]').click(function(){\n\t\tvar show = $(this).data('target');\n\t\t$('#modal-marca .producto').hide();\n\t\t$('#modal-marca .producto[data-producto=\"' + show + '\"]').show();\n\t\t$('#modal-marca').modal();\n\t});\n\n/* --------------------------\n--------- Offcanvas ---------\n-------------------------- */\n\t$('#main-nav .hamburger').click(function(){\n\t\t$('#offcanvas').addClass('open');\n\t});\n\t$('#offcanvas .fa-remove').click(function(){\n\t\t$('#offcanvas').removeClass('open');\n\t});\n\n\t$(document).mouseup(function(e) {\n\t\tvar container = $('#offcanvas');\n\t\t// if the target of the click isn't the container nor a descendant of the container\n\t\tif (!container.is(e.target) && container.has(e.target).length === 0) {\n\t\t\tcontainer.removeClass('open');\n\t\t}\n\t});\n\n\t$(window).on('scroll',function(){\n\t\t$('#offcanvas').removeClass('open');\n\t});\n\n/* --------------------------\n---------- Slick -----------\n-------------------------- */\n\t$('.slick').slick({\n\t\tappendDots: $('#dots'),\n\t\tarrows: false,\n\t\tdots: true\n\t});\n\t$('#nextSlick').click(function(){\n\t\t$('.slick').slick('slickNext');\n\t});\n\t$('#prevSlick').click(function(){\n\t\t$('.slick').slick('slickPrev');\n\t});\n\n\t/* Blog */\n\t\t$('#blog-top .main-slider').slick({\n\t\t\tappendDots: $('#blog-top .bullets'),\n\t\t\tdotsClass: 'd-flex list-unstyled mb-1 p-2 px-md-3 mb-lg-3',\n\t\t\tarrows: false,\n\t\t\tdots: true,\n\t\t\tfade: true,\n\t\t\tresponsive: [\n\t\t\t    {\n\t\t\t      breakpoint: 480,\n\t\t\t      settings: {\n\t\t\t        arrows: true,\n\t\t\t        dots: false,\n\t\t\t        prevArrow: $('#blog-top ul.arrows li .fa-chevron-left'),\n\t\t\t        nextArrow: $('#blog-top ul.arrows li .fa-chevron-right'),\n\t\t\t      }\n\t\t\t    }\n\t\t\t]\n\t\t});\n\t\t$('.grid-slider .slider-slider').slick({\n\t\t\tappendDots: $('.grid-slider h2'),\n\t\t\tdotsClass: 'd-none d-md-flex bullets list-unstyled mb-0',\n\t\t\tarrows: false,\n\t\t\tdots: true,\n\t\t\tslidesToShow: 4,\n\t\t\tslidesToScroll: 4,\n\t\t\tresponsive: [\n\t\t\t    {\n\t\t\t      breakpoint: 1024,\n\t\t\t      settings: {\n\t\t\t        slidesToShow: 3,\n\t\t\t        slidesToScroll: 3,\n\t\t\t        infinite: true,\n\t\t\t        dots: true\n\t\t\t      }\n\t\t\t    },\n\t\t\t    {\n\t\t\t      breakpoint: 768,\n\t\t\t      settings: {\n\t\t\t        slidesToShow: 2,\n\t\t\t        slidesToScroll: 2,\n\t\t\t        arrows: true,\n\t\t\t        prevArrow: $('.grid-slider h2 ul li .fa-chevron-left'),\n\t\t\t        nextArrow: $('.grid-slider h2 ul li .fa-chevron-right'),\n\t\t\t      }\n\t\t\t    },\n\t\t\t    {\n\t\t\t      breakpoint: 480,\n\t\t\t      settings: {\n\t\t\t        slidesToShow: 1,\n\t\t\t        slidesToScroll: 1,\n\t\t\t        arrows: true,\n\t\t\t        prevArrow: $('.grid-slider h2 ul li .fa-chevron-left'),\n\t\t\t        nextArrow: $('.grid-slider h2 ul li .fa-chevron-right'),\n\t\t\t      }\n\t\t\t    }\n\t\t\t]\n\t\t});\n\n\n/* --------------------------\n------- Scroll reveal -------\n-------------------------- */\n\twindow.sr = ScrollReveal({\n\t\torigin: 'bottom'\n\t});\n\tsr.reveal('.reveal');\n\tsr.reveal('.reveal-left',{ \n\t\torigin: 'left',\n\t\tdelay: 500\n\t});\n\tsr.reveal('.reveal-right',{ \n\t\torigin: 'right',\n\t\tdelay: 500\n\t});\n\n/* --------------------------\n----- Bolsa de trabajo ------\n-------------------------- */\n\n\t$('#bolsa-de-trabajo .card .btn').click(function(e){\n\t\te.preventDefault();\n\t\tvar card = $(this).parents('.card');\n\t\tvar title = card.find('h3').text().trim();\n\t\t$('.jumbotron [name=\"puesto\"]').val( title );\n\t\t$('html,body').animate({\n\t\t\tscrollTop: 0\n\t\t},600);\n\t});\n\n/*\n\n\tCheck images\n\n*/\n\tfunction fitImages(){\n\t\t$('.articulo').each(function(){\n\t\t\tvar img = $(this).find('.thumb img');\n\t\t\tvar imgWidth = img.outerWidth();\n\t\t\tvar imgHeight = img.outerHeight();\n\t\t\tif( imgWidth > imgHeight ){\n\t\t\t\tconsole.log( $(this).find('h3').text() );\n\t\t\t\timg.addClass('horizontal');\n\t\t\t}\n\t\t});\n\t}\n\tfitImages();\n\n/* --------------------------\n----- Bolsa de trabajo ------\n-------------------------- */\n\t$('#descarga-catalogo').submit(function(e){\n\t\te.preventDefault();\n\t\tvar mail = $(this).find('[name=\"correo\"]').val();\n\t\tconsole.log(mail);\n\t\t$(this).submit();\n\t});\n\n\n/* --------------------------\n---------- Map -----------\n-------------------------- */\n\tvar arrayPresencia = [\n\t  ['Querétaro', 20.6121228, -100.480258, 1],\n\t  ['Irapuato', 20.6774973,-101.341803, 2],\n\t  ['Monterrey', 25.6487281,-100.4431832, 3]\n\t];\n\n\tvar arrayClientes = [\n\t  ['Aguascalientes',21.8857347,-102.2912996,1],\n\t  ['Yucatán',20.9800083,-89.7730058,2]\n\t];\n\n\tif( $('section#mapa').length ){\n\t\tvar map = new google.maps.Map(document.getElementById('map'), {\n\t\t    zoom: 6,\n\t\t    center: new google.maps.LatLng(20.6121228, -100.480258),\n\t\t    mapTypeId: google.maps.MapTypeId.ROADMAP,\n\t\t    disableDefaultUI: true,\n\t\t    styles: [\n\t\t\t    {\n\t\t\t        \"stylers\": [\n\t\t\t            {\n\t\t\t                \"visibility\": \"off\"\n\t\t\t            }\n\t\t\t        ]\n\t\t\t    },\n\t\t\t    {\n\t\t\t        \"featureType\": \"water\",\n\t\t\t        \"stylers\": [\n\t\t\t            {\n\t\t\t                \"visibility\": \"on\"\n\t\t\t            },\n\t\t\t            {\n\t\t\t                \"color\": \"#30080d\"\n\t\t\t            }\n\t\t\t        ]\n\t\t\t    },\n\t\t\t    {\n\t\t\t        \"featureType\": \"landscape\",\n\t\t\t        \"stylers\": [\n\t\t\t            {\n\t\t\t                \"visibility\": \"on\"\n\t\t\t            },\n\t\t\t            {\n\t\t\t                \"color\": \"#881626\"\n\t\t\t            }\n\t\t\t        ]\n\t\t\t    },\n\t\t\t    {\n\t\t\t        \"featureType\": \"administrative\",\n\t\t\t        \"elementType\": \"geometry.stroke\",\n\t\t\t        \"stylers\": [\n\t\t\t            {\n\t\t\t                \"visibility\": \"on\"\n\t\t\t            },\n\t\t\t            {\n\t\t\t                \"color\": \"#30080d\"\n\t\t\t            },\n\t\t\t            {\n\t\t\t                \"weight\": 1\n\t\t\t            }\n\t\t\t        ]\n\t\t\t    },\n\t\t\t    {\n\t\t\t\t    \"featureType\": \"administrative.country\",\n\t\t\t\t    \"elementType\": \"labels\",\n\t\t\t\t    \"stylers\": [\n\t\t\t\t        { \n\t\t\t\t        \t\"visibility\": \"on\" \n\t\t\t\t        },\n\t\t\t            {\n\t\t\t                \"color\": \"#e2c5c9\"\n\t\t\t            },\n\t\t\t            {\n\t\t\t                \"weight\": 0.2\n\t\t\t            }\n\t\t\t\t    ]\n\t\t\t\t},\n\t\t\t]\n\t\t});\n\n\t\tvar infowindow = new google.maps.InfoWindow();\n\n\t\tvar marker, i;\n\n\t\tfor (i = 0; i < arrayPresencia.length; i++) {\n\n\t\t\tvar pinIcon = new google.maps.MarkerImage(\n\t\t\t    \"/assets/img/marker1.png\",\n\t\t\t    null, // size is determined at runtime\n\t\t\t    null, // origin is 0,0\n\t\t\t    null, // anchor is bottom center of the scaled image\n\t\t\t    new google.maps.Size(25, 16)\n\t\t\t);\n\t\t\tmarker = new google.maps.Marker({\n\t\t        position: new google.maps.LatLng(arrayPresencia[i][1], arrayPresencia[i][2]),\n\t\t        map: map,\n\t\t        icon: pinIcon\n\t\t   \t});\n\n\t\t  google.maps.event.addListener(marker, 'click', (function(marker, i) {\n\t\t    return function() {\n\t\t      infowindow.setContent(arrayPresencia[i][0]);\n\t\t      infowindow.open(map, marker);\n\t\t    }\n\t\t  })(marker, i));\n\t\t}\n\n\t\tfor (i = 0; i < arrayClientes.length; i++) {\n\n\t\t\tvar pinIcon = new google.maps.MarkerImage(\n\t\t\t    \"/assets/img/marker2.png\",\n\t\t\t    null, // size is determined at runtime\n\t\t\t    null, // origin is 0,0\n\t\t\t    null, // anchor is bottom center of the scaled image\n\t\t\t    new google.maps.Size(25, 25)\n\t\t\t);\n\t\t\tmarker = new google.maps.Marker({\n\t\t        position: new google.maps.LatLng(arrayClientes[i][1], arrayClientes[i][2]),\n\t\t        map: map,\n\t\t        icon: pinIcon\n\t\t   \t});\n\n\t\t  google.maps.event.addListener(marker, 'click', (function(marker, i) {\n\t\t    return function() {\n\t\t      infowindow.setContent(arrayClientes[i][0]);\n\t\t      infowindow.open(map, marker);\n\t\t    }\n\t\t  })(marker, i));\n\t\t}\n\t}\n\n"]}